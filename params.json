{"name":"Waterfall","tagline":"jquery waterfall plugin,like Pinterest. ","body":"# Waterfall\r\n\r\nWaterfall is a jQuery plugin,like [Pinterest](http://pinterest.com/)、[huaban.com](http://huaban.com/)、[faxianla.com](http://faxianla.com/)\r\n\r\n[En](index.html) [中文](index-zh.html)\r\n\r\n## Documentation\r\n\r\n### Download\r\n\r\nDownload the latest [waterfall plugin](https://github.com/bingdian/waterfall/archive/master.tar.gz)。\r\n\r\n### Getting started\r\n\r\nMarkup:\r\n\r\n    <div id=\"container\"></div>\r\n\r\nAdd jQuery, [handlebars](http://handlebarsjs.com/) and the Waterfall script. (You can also use other javascript template,see [demo](http://wlog.cn/demo/waterfall/mustache.html))\r\n\r\n    <script src=\"/path/jquery.min.js\"></script>\r\n    <script src=\"/path/handlebars.js\"></script>\r\n    <script src=\"/path/waterfall.min.js\"></script>\r\n\r\ntemplate:\r\n\r\n    <script id=\"waterfall-tpl\" type=\"text/x-handlebars-template\">\r\n        //template content\r\n    </script>\r\n\r\nscript:\r\n    \r\n    $('#container').waterfall(options);\r\n    \r\n### options\r\n\r\n<table>\r\n    <tr>\r\n        <th class=\"min-th\">Name</th>\r\n\t\t<th class=\"min-th\">Type</th>\r\n\t\t<th class=\"min-th\">Default value</th>\r\n\t\t<th>Description</th>\r\n    </tr>\r\n    <tr>\r\n        <td>itemCls</td>\r\n        <td>String</td>\r\n        <td>'waterfall-item'</td>\r\n        <td>the waterfall brick element class</td>\r\n    </tr>\r\n    <tr>\r\n        <td>prefix</td>\r\n        <td>String</td>\r\n        <td>'waterfall'</td>\r\n        <td>waterfall elements prefix</td>\r\n    </tr>\r\n    <tr>\r\n        <td>fitWidth</td>\r\n        <td>Boolean</td>\r\n        <td>true</td>\r\n        <td>fit the parent element width</td>\r\n    </tr>\r\n    <tr>\r\n        <td>colWidth</td>\r\n        <td>Integer</td>\r\n        <td>240</td>\r\n        <td>column width</td>\r\n    </tr>\r\n    <tr>\r\n        <td>gutterWidth</td>\r\n        <td>Integer</td>\r\n        <td>10</td>\r\n        <td>the waterfall brick element horizontal gutter</td>\r\n    </tr>\r\n    <tr>\r\n        <td>gutterHeight</td>\r\n        <td>Integer</td>\r\n        <td>10</td>\r\n        <td>the waterfall brick element vertical gutter</td>\r\n    </tr>\r\n    <tr>\r\n        <td>align</td>\r\n        <td>String</td>\r\n        <td>'center'</td>\r\n        <td>'align', 'left', 'right'</td>\r\n    </tr>\r\n    <tr>\r\n        <td>minCol</td>\r\n        <td>Integer</td>\r\n        <td>1</td>\r\n        <td>min columns</td>\r\n    </tr>\r\n    <tr>\r\n        <td>maxCol</td>\r\n        <td>Integer</td>\r\n        <td>undefined</td>\r\n        <td>max columns</td>\r\n    </tr>\r\n    <tr>\r\n        <td>maxPage</td>\r\n        <td>Integer</td>\r\n        <td>undefined</td>\r\n        <td>max page</td>\r\n    </tr>\r\n    <tr>\r\n        <td>bufferPixel</td>\r\n        <td>Integer</td>\r\n        <td>-50</td>\r\n        <td>decrease this number if you want infscroll to fire quicker</td>\r\n    </tr>\r\n    <tr>\r\n        <td>containerStyle</td>\r\n        <td>Object</td>\r\n        <td>{position: 'relative'}</td>\r\n        <td>the waterfall container style</td>\r\n    </tr>\r\n    <tr>\r\n        <td>resizable</td>\r\n        <td>Boolean</td>\r\n        <td>true</td>\r\n        <td>triggers layout when browser window is resized</td>\r\n    </tr>\r\n    <tr>\r\n        <td>isFadeIn</td>\r\n        <td>Boolean</td>\r\n        <td>false</td>\r\n        <td>append html effect</td>\r\n    </tr>\r\n    <tr>\r\n        <td>isAnimated</td>\r\n        <td>Boolean</td>\r\n        <td>false</td>\r\n        <td>triggers animate when browser window is resized </td>\r\n    </tr>\r\n    <tr>\r\n        <td>animationOptions</td>\r\n        <td>Object</td>\r\n        <td>{}</td>\r\n        <td>animation options</td>\r\n    </tr>\r\n    <tr>\r\n        <td>isAutoPrefill</td>\r\n        <td>Boolean</td>\r\n        <td>true</td>\r\n        <td>When the document is smaller than the window, load data until the document is larger</td>\r\n    </tr>\r\n    <tr>\r\n        <td>checkImagesLoaded</td>\r\n        <td>Boolean</td>\r\n        <td>true</td>\r\n        <td>triggers layout when images loaded. Suggest false</td>\r\n    </tr>\r\n    <tr>\r\n        <td>path</td>\r\n        <td>Array, Function</td>\r\n        <td>undefined</td>\r\n        <td>Either parts of a URL as an array (e.g. [\"/popular/page/\", \"/\"] or a function that takes in the page number and returns a URL(e.g. function(page) { return '/populr/page/' + page; })</td>\r\n    </tr>\r\n    <tr>\r\n        <td>dataType</td>\r\n        <td>String</td>\r\n        <td>'json'</td>\r\n        <td>'json', 'jsonp', 'html'</td>\r\n    </tr>\r\n    <tr>\r\n        <td>params</td>\r\n        <td>Object</td>\r\n        <td>{}</td>\r\n        <td>params,{type: \"popular\", tags: \"travel\", format: \"json\"} => \"type=popular&tags=travel&format=json\"</td>\r\n    </tr>\r\n    <tr>\r\n        <td>loadingMsg</td>\r\n        <td>html</td>\r\n        <td></td>\r\n        <td>loading html</td>\r\n    </tr>\r\n    <tr>\r\n        <td>callbacks</td>\r\n        <td>Object</td>\r\n        <td></td>\r\n        <td>callback</td>\r\n    </tr>\r\n    <tr>\r\n        <td>debug</td>\r\n        <td>Boolean</td>\r\n        <td>false</td>\r\n        <td>enable debug</td>\r\n    </tr>\r\n</table>\r\n\r\nloadingMsg:\r\n\r\n    '&lt;div style=\"text-align:center;padding:10px 0; color:#999;\">&lt;img src=\"data:image/gif;base64,R0lGODlhEAALAPQAAP///zMzM+Li4tra2u7u7jk5OTMzM1hYWJubm4CAgMjIyE9PT29vb6KiooODg8vLy1JSUjc3N3Jycuvr6+Dg4Pb29mBgYOPj4/X19cXFxbOzs9XV1fHx8TMzMzMzMzMzMyH5BAkLAAAAIf4aQ3JlYXRlZCB3aXRoIGFqYXhsb2FkLmluZm8AIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7\" alt=\"\">&lt;br />Loading...&lt;/div>'\r\n\r\ncallbacks:\r\n\r\n    callbacks: {\r\n        /*\r\n         * loading start \r\n         * @param {Object} loading $('#waterfall-loading')\r\n         */\r\n        loadingStart: function($loading) {\r\n            $loading.show();\r\n        },\r\n        \r\n        /*\r\n         * loading finished\r\n         * @param {Object} loading $('#waterfall-loading')\r\n         * @param {Boolean} isBeyondMaxPage\r\n         */\r\n        loadingFinished: function($loading, isBeyondMaxPage) {\r\n            if ( !isBeyondMaxPage ) {\r\n                $loading.fadeOut();\r\n            } else {\r\n                $loading.remove();\r\n            }\r\n        },\r\n        \r\n        /*\r\n         * loading error\r\n         * @param {String} xhr , \"end\" \"error\"\r\n         */\r\n        loadingError: function($message, xhr) {\r\n            $message.html('Data load faild, please try again later.');\r\n        },\r\n        \r\n        /*\r\n         * render data\r\n         * @param {String} data\r\n         * @param {String} dataType , \"json\", \"jsonp\", \"html\"\r\n         */\r\n        renderData: function (data, dataType) {\r\n            var tpl,\r\n                template;\r\n                \r\n            if ( dataType === 'json' ||  dataType === 'jsonp'  ) { // json or jsonp format\r\n                tpl = $('#waterfall-tpl').html();\r\n                template = Handlebars.compile(tpl);\r\n                \r\n                return template(data);\r\n            } else { // html format\r\n                return data;\r\n            }\r\n        }\r\n    }\r\n            \r\n\r\n### method\r\n\r\n    $('#container').waterfall( 'methodName', [optionalParameters] );\r\n\r\n**prepend**\r\n\r\n    $('#container').waterfalll('prepend', $content, callback);\r\n    \r\n**append**\r\n    \r\n    $('#container').waterfalll('append', $content, callback);\r\n    \r\n**removeItems**\r\n    \r\n    $('#container').waterfalll('removeItems', $items, callback);\r\n\r\n**reLayout**\r\n\r\n    $('#container').waterfalll('reLayout', $content, callback);\r\n\r\n**option**\r\n    \r\n    $('#container').waterfalll('option', options, callback);\r\n    \r\n## Demos\r\n \r\n * [infinitescroll](http://wlog.cn/demo/waterfall/infinitescroll.html)\r\n * [finitescroll](http://wlog.cn/demo/waterfall/finitescroll.html)\r\n * [custom width](http://wlog.cn/demo/waterfall/custom-width.html)\r\n * [min-max-columns](http://wlog.cn/demo/waterfall/min-max-columns.html)\r\n * [resize animate](http://wlog.cn/demo/waterfall/animate.html)\r\n * [fadeIn](http://wlog.cn/demo/waterfall/fadein.html)\r\n * [fix brick left or right](http://wlog.cn/demo/waterfall/fixed-left-or-right.html)\r\n * [use mustache template](http://wlog.cn/demo/waterfall/mustache.html)\r\n * [html datatype](http://wlog.cn/demo/waterfall/html.html)\r\n * [jsonp datatype](http://wlog.cn/demo/waterfall/jsonp.html)\r\n * [methods](http://wlog.cn/demo/waterfall/methods.html)","google":"UA-1245097-16","note":"Don't delete this file! It's used internally to help with page regeneration."}